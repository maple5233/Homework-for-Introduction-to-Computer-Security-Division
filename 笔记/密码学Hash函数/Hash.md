[TOC]

# Hash函数

## 概述

+ 散列函数是一种从任何一种数据中创建小的数字“指纹”的方法。
+ 散列函数把消息压缩成摘要，使得数据量变小打乱混合，创建一个叫做散列值的**固定长度和格式**的指纹。
+ 好的散列函数在输入域中很少出现散列冲突。
+ 如果两个散列值是不相同的，那么这两个散列值的原始输入也是不相同的。这个特性是散列函数具有**确定性**的结果，具有这种性质的散列函数称为单向散列函数。
+ 散列函数的输入和输出不是唯一对应关系的，如果两个散列值相同，两个输入值很可能是相同的，但也可能不同，这种情况称为“哈希碰撞”，这通常是两个不同长度的输入值，刻意计算出相同的输出值。
+ 散列函数必须**不具有可逆性**。
+ 典型的散列函数都有**非常大的定义域**。

## 密码散列函数

### 概述

+ 加密散列函数假设存在一个要找到具有相同散列值的原始输入的敌人
+ 为加密散列为目的设计的函数，如SHA-2，被广泛的用作检验散列函数。这样软件下载的时候，就会对照验证代码之后才下载正确的文件部分。此代码有可能因为环境因素的变化，如机器配置或者IP地址的改变而有变动。以保证源文件的安全性。

### 特性

一个理想的密码散列函数应该有四个主要的特性：

- 对于任何一个给定的消息，它都很容易就能运算出散列数值
- 难以由一个已知的散列数值，去推算出原始的消息
- 在不更动散列数值的前提下，修改消息内容是不可行的
- 对于两个不同的消息，它不能给与相同的散列数值

### 应用

在信息安全中，有许多重要的应用，都使用了密码散列函数来实现，例如数字签名，消息认证码。

## 盐

+ **盐**（Salt），在密码学中，是指通过在密码任意**固定位置插入特定的字符串**，让散列后的结果和使用原始密码的散列结果不相符，这种过程称之为“加盐”。
+ 加盐后的散列值，可以极大的降低由于用户数据被盗而带来的密码泄漏风险，即使通过**彩虹表**寻找到了散列后的数值所对应的原始内容，但是由于经过了加盐，插入的字符串扰乱了真正的密码，使得获得真实密码的概率大大降低。

## 消息认证码

### 概述

+ 在密码学中，消息认证码（MAC）是经过特定算法后产生的一小段信息，检查某段消息的完整性，以及作身份验证。
+ 它可以用来检查在消息传递过程中，其内容是否被更改过，不管更改的原因是来自意外或是蓄意攻击。同时可以作为消息来源的身份验证，确认消息的来源。
+ 消息认证码的算法中，**通常会使用使用带密钥的散列函数，或者块密码的带认证工作模式（如CBC）**。
+ 信息鉴别码不能提供对信息的保密，若要同时实现保密认证，同时需要对信息进行加密。

![MAC.svg](https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/MAC.svg/661px-MAC.svg.png)